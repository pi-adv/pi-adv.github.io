<!DOCTYPE html>
<html>
<title>Ubuntu Basics</title>
<link rel="stylesheet" href="Chapters_style.css">
<link rel="icon" type="image/x-icon" href="../favicon.ico">

<body>
	<h1 id="headerL"><a href="../index.html">Cybertitan EDU</a></h1>
	<h4 id="headerR">&nbsp;&nbsp;&nbsp;&nbsp;<a href="Chapters.html">CHAPTERS</a></h4>
	<h4 id="headerR">&nbsp;&nbsp;&nbsp;&nbsp;<a href="../Hypernova/Hypernova.html">HYPERNOVA</a></h4>
	<br id="brlarge">
	<p id="titlep"></p>
	
	<h1>Chapter 3 - Working with Ubuntu</h1>
    <p>This section will be a simple link to different sections.</p>
	<ul>	
		<li><a href="#T">SECTION 3.0 - Terminal</a></li>
			<li><a href="#UI">SECTION 3.1  - User Interface</a></li>
			<li><a href="#BS-U">SECTION 3.2 - Basic Security - Ubuntu</a></li>
			<li><a href="#U">SECTION 3.3 - Updates</a></li>
			<li><a href="#I/R">SECTION 3.4 - Installing/Removing Apps</a></li>
			<li><a href="#FS">SECTION 3.5 - Firewall Setup</a></li>
			<li><a href="#SP">SECTION 3.6 - Security Policy</a></li>
			<li><a href="#CS">SECTION 3.7 - Critical Services</a></li>
			<li><a href="#ISF">SECTION 3.8 - Important System Files</a></li>
			<li><a href="#MU">SECTION 3.8 - More Ubuntu</a></li>
			<li><a href="#ECU">SECTION 3.* - Competition</a></li>
		</ul>
		<hr>
	<h3>Sample Gameplans for Ubuntu:</h3>
	<ul>
		<li><a href="../Tools/Gameplans/v1_Linux_Gameplan_onlineview.txt">ONLINE VIEW (v1_Linux_Gameplan)</a></li>
		<p><a href="../Tools/Gameplans/v1_Linux_Gameplan.docx" download="v1_Linux_Gameplan">DOWNLOAD (v1_Linux_Gameplan | DOCX)</a></p>
		<p><a href="../Tools/Gameplans/v1_Linux_Gameplan_onlineview.txt" download="v1_Linux_Gameplan">DOWNLOAD (v1_Linux_Gameplan | TXT)</a></p>
	</ul>
	<hr>
	<p>Ubuntu can be quite scary to many people since of how much freedom that you can have
		and how much customizability that you have. Which is understandable but it's much
		easier than you think. Once you pick up a few key terminal commands, you can do
		pretty much as much you can do on Windows just on your keyboard.
	</p>
	<p>Ubuntu is a distroduction from the linux family of operating system flavours. There are
		many more including Debian and Fedora that you might come accross in competition.
		These other distructions revolve around the same concept, which is great rather than
		learning distrobutions again, and again.
	</p>
	<h4 id="T">Terminal</h4>
	<p>Like I said before the one item in Ubuntu that you are going to be interacting with is
		the terminal. The terminal has a specific set of commands that you can use. For example
		to change a directory (moving into a different folder on the computer), you use the cd
		command which stands for C hange D irectory. A couple other common commands is using
		the apt command. APT is a package manager which you can use to install, remove and update
		packages from.
	</p>
	<p>Their are plenty of other commands and once you install a package some will add even more
		commands that you can use in the terminal. Another important note about using the terminal
		is understanding the hierarchy of the system.
	</p>
	<ol>
		<li>First is the root user. This user is supposed to be protected by a password and change
			EVERYTHING about the computer. Nothing is off limits and should be well protected.
		</li>
		<li>Second is the administrator user. This user has the ability to call the sudo command before
			the initial command is called. This lets whatever after sudo to be run as if it is the root
			user. However this has limitations.
		</li>
		<li>Last is the standard user. This user you will be not interacting with much, however they
			do not have the same privilages as the admin user and can only use non-root commands in
			the terminal. (However there is a sudoers file but that will be mentioned later)
		</li>
	</ol>
	<p>With this information, I'll recap. Working with Ubuntu, you will have to work with the terminal.
		You can do anything in the terminal, and there are certain commands to do certain things. There
		is a hierarchy that permits certain users to do their certain things.
	</p>
	<h4 id="UI">User Interface</h4>
	<p>Although Ubuntu can be run mainly from the terminal, there is a desktop interface that you can use
		to navigate the entire system. Mostly you can rely on the UI for setting up Users, changing the internet,
		and navigating the file system with visable icons. For some cases the desktop interface makes things
		a lot easier to do. However not everything can be done without running into the terminal. The
		browser that you will run to load the Cyberpatriot websites will rely on the desktop interface. You
		will need to juggle them both and make sure you are able to navigate through both of these.
	</p>
	<p>You will find the desktop won't have very many icons. Only the icons for some internet shortcuts, which are
		for Cyberpatriot and the forensic questions and that should be about it (depending on the image you may have
		more files). Clicking the Windows key on your keyboard will open up a view where you are looking at multiple
		desktops. Clicking the Windows key twice quickly, it will open up the 'app central' where you are going to
		find all of the applications that have a GUI that you can launch. You can also click the waffle icon, or
		the Ubuntu icon on the dock, it will do the same thing.
	</p>
	<p>With the main point of the interface being mostly used for browsers, there is a couple that you should be aware
		of. Ever since a year ago, Ubuntu/Linux distros now have support for Google Chrome not just Chromium, and of
		course have firefox. These will need to be updated, but unless specified otherwise, install/use the broweser
		that you want.
	</p>
	<h2 id="BS-U">Basic Security - Ubuntu</h2>
	<p>Knowing about how Ubuntu works and a bit of what you need to know to navigate the operating system, next is to
		know what to do with the operating system to score and secure the machine. This is about the same process
		for the Windows machines but specific intructions for Ubuntu. Certain things like the updates, installing/removing apps,
		security policy, and firewall will be different to enable/install.
	</p>
	<h4 id="U">Updates</h4>
	<p>This is a pretty good example of the changes that you are going to find comparing to Windows. To update the
		system there is two different ways to do so. First is through the terminal which is EXTREMELY RECOMMENED.
		Second is through a GUI tool from Ubuntu which can break the system if the image specified that you
		shouldn't use the GUI.
	</p>
	<p>Using the terminal:</p>
	<ul>
		<li>Step ONE is to launch a terminal session.</li>
		<li>Step TWO is to use the command <code>sudo apt update</code></li>
		<li>Step THREE is to enter the users password to authorize the command.</li>
		<li>All that command does, is to run APT and check its sources to see if there is an update for any of
			the software on your computer has an update to installed. Which if so, should appear as,</li>
		<li><code>*** packages are available to be updated</code>.</li>
		<li>Step FOUR is to complete the update which is to run this command, <code>sudo apt upgrade</code></li>
		<li>This could take a lot or minimal time, depending on how many packages that can be updated.
			Make sure to be patient and don't power off the machine while doing updates.
		</li>
	</ul>
	<p>Using the GUI:</p>
	<ul>
		<li>Step ONE is find the updater in the 'app central' on Ubuntu.</li>
		<li>Step TWO is to wait for the app to launch and it will automatically check for updates.</li>
		<li>Step THREE is to click on to update when you are prompted. </li>
		<li>You will have to enter the users password.</li>
		<li>All you will need is to wait for the program to complete the update.</li>
		<li>That's all it's pretty easy using the GUI but it can break quite easily.</li>
	</ul>
	<p>Make sure that you update via the terminal if you even have a little suspcision if the GUI won't work
		or might brick the system.
	</p>
	<h4 id="I/R">Installing/Removing Apps (ex. gufw)</h4>
	<p>Installing apps can be done two different ways. (technically three) First is the RECOMMENED way is to use
		the terminal is install every package that you need. Second is to use the Software Center, which isn't
		recommened since 99.9% of the time it's disabled on the competition images. Third is to download a .deb
		file and use the terminal to install the package. (kind of a combination between the two). For this example
		I'm going to install the GUFW (Graphical Uncomplicated Firewall).
	</p>
	<ul>
		<li>Step ONE is to open up the terminal.</li>
		<li>Step TWO is to use the install command with APT, <code>sudo apt install gufw</code></li>
		<li>The package that you want to install has to come after the install command. It also needs to be available
			to install through APT or it won't find the application that you are trying to install.</li>
		<li>Step THREE is to wait either for a question about using disk space, where you put a <code>y</code> and hit
			enter, or it will install without you needing any user input.</li>
		<li>Once it finishes you can now launch the application using either the icon on the desktop interface, or
			launching the app in the terminal using it's package name. In this case entering <code>gufw</code> will
			open up the firewall.</li>
	</ul>
	<p>Removing apps is quite easy too, but can only be done in the terminal, of course the RECOMMENED way, but
		some apps can be removed in the Application Center. However not every application can be uninstalled on the
		app center. As long as you know the package name of the application that you are trying to remove, then
		use the terminal to get rid of it.</p>
	<ul>
		<li>Step ONE is to launch the terminal.</li>
		<li>Step TWO is to use the remove command with APT, <code>sudo apt remove gufw</code><li>
		<li>When you entered the command, it will be quick and easy and uninstall the package you specified. The
			only thing is that some applications rely on certain other packages to run. If those are no longer required
			by other applications, the terminal will ask you to run <code>sudo apt autoremove</code> to get rid of the
			other packages.</li>
	</ul>
	<p>What I have found too, is that you cannot remove some packages only using the remove command with apt. What I have seen being used is purge. It's much
		more effective and seems to find certain apps that seem to be hidden. All you need to do is use <code>sudo apt purge __app name__</code>.
	</p>
	<p>What we should take into account is the huge sum of apps that can be used to exploit the system. There will be apps we know of but more apps are to 
		be developed. Though, there are some we know of and we can take action to remove them. Here is the ones I know of:
	</p>
	<ul>
		<li>wireshark</li>
		<li>nmap</li>
		<li>ophcrack</li>
		<li>hydra</li>
		<li>john</li>
		<li>snort</li>
	</ul>
	<h4 id="FS">Firewall Setup</h4>
	<p>Surprisingly, the firewall is quite easy to setup on Ubuntu. The main portion is just installing the package.
		By using the gufw application it makes it extremely easy to configure the status of the firewall, changing the
		output/input from the computer, and to add and change rules all in the GUI.</p>
	<ul>
		<li>Step ONE is the install the gufw package. <code>sudo apt install gufw</code></li>
		<li>Step TWO is the laucnh the application. You can do this through the app icon or through the terminal. <code>sudo gufw</code>
		<li>Step THREE is to configure the application. The default configuration is good to use so click on the switch to turn
			on the firewall. You can change around the outgoing and incoming settings, and add rules on the rules section of the
			application.</li>
		<li>Bare in mind that all of this can be configured through the terminal since gufw is just the ufw but with a GUI.</li>
	</ul>
	<h4 id="SP">Security Policy</h4>
	<p>The security policy on Ubuntu is done differently than what you would find on Windows. First off, is the fact that you
		can only use the terminal since there is no GUI for it. Second is that it's a bit complicated so make sure you have
		everything noted down. The point of the security policy is to keep the good people in and the bad people out. The issue
		comes in competition. With my experience anytime when we tried to modify the security policy, it resulted in losing access
		to the machine and being locked out. This is of course terrible because you need access to that account. </p>
	<p>The application that it used on Ubuntu, is PAM which stands for Pluggable Authentication Modules. Which that is more or less
		the same thing as the Local Security Policy on Windows. To edit PAM you need to go a specifc directory where PAM is located
		and use a text editor such as gedit or nano and edit the file to configure it.</p>
	<p>Since PAM is much more than just a simple paragraph here I'm going to create a seperate page here <a href="PAM/PAM.html">PAM.</a></p>
	<h4 id="CS">Critical Services</h4>
	<p>There are multiple critical services that are on Ubuntu, including ssh, ftp (vsftpd), ufw and apache2. These do a wide range of things and control different parts 
		of software on your system. The main ones that you are going to be tinkering with is ufw and ssh. The main reason is because ssh is usually on every single image, and 
		ufw is for allowing communication from and to the computer. However I'll break down each to give a basic overview of what each service does and a basic configuration of 
		said service.
	</p>
	<ol>
		<li>ssh</li>
		<p>ssh has many different uses and functions that you will configure. The openssh service is a service where you can connect to other ssh servers. But also allow other to 
			connect to your system via ssh. It's quite easy and fast to do and setup however the complexity comes with configuring proper security settings. The files to configure 
			will be <code>/etc/ssh/ssh_config *and* /etc/ssh/sshd_config</code>. To configure you want to set a couple of things, first you want to make sure no one is going to be 
			able to log into root and take over the system, you can modify what port the ssh service operates on, accept only ssh generated keys rather than passwords. There is a 
			bunch you can do. 
		</p>
		<ul>
			<li>Root Login: Go to /etc/ssh/sshd_config and find the <code>PermitRootLogin</code> and set it to <code>no</code></li>
			<li>Changing Port Number: Go to /etc/ssh/sshd_config and find the <code>port</code> line inside the file, change the number to what you need to set it to.</li>
			<li>SSHKey Authentication: Go to /etc/ssh/sshd_config and find the <code>PasswordAuthentication</code> line in the file, around here you should find the sshpubkey line. Change the correct lines to what you need.</li>
		</ul>
		<li>ufw</li>
		<p>ufw has already been covered here, but there is a certain function that wasn't. For some services you need to allow ufw to let the services through the firewall or allow 
			certain rules they need to implement.
		</p>
		<ul>
			<li>To do this: Open a terminal and type <code>sudo ufw allow ____service name____</code></li>
		</ul>
		<li>apache2</li>
		<p>apache2 is a web service where you can host websites through your computer. This is fantastic and the origins of this very site, but you need to make sure no one can get 
			access through the web server to your computer. The main two things I've found is the following:
		</p>
		<ul>
			<li>Go to /etc/apache2/conf-enabled/security.conf and modify the <code>ServerTokens line</code>, changing it to Prod instead of Full or the default value.</li>
			<li>Go to /etc/apache2/conf-enabled/security.conf and modify the <code>ServerSignature line</code>, changing it to Off instead of On.</li>
		</ul>
		<li>ftp (vsftpd)</li>
		<p>The ftp service is the one that I have had the least amount of experience with. ftp is a file sharing service that you connect to via another computer. Usually you want to 
			get rid of these services, but in certain cases you will actually need them. From my experience you want to make sure that things aren't anonymous. The reason being that you 
			need to know who is connecting to your ftp service. It helps with logging, and if something were to go wrong, you can try and backtrack.
		</p>
		<ul>
			<li>Go to /etc/vsftpd.conf and modify the <code>anonymous_enable line</code> and set it to NO. (This process is apart of disabling anonymous acitivty)</li>
			<li>Go to /etc/vsftpd.conf and modify these lines <code>ssl_enable & ssl_tlsv1 & ssl_sslv2 & ssl_sslv3</code> and set them to YES.</li>
			<p>The change above activates a crucial security feature which is TLS (Transport Layer Security). It's essentially basic security for everything to do with communication. <a href="https://www.cloudflare.com/learning/ssl/transport-layer-security-tls/">Learn More Here.</a></p>
			<li>Go to /etc/vsftpd.conf and modify the <code>ssl_enable line</code> and set it to YES.</li>
		</ul>
	</ol>
	<h4 id="ISF">Important System Files</h4>
	<p>There are certain files that aren't involved with a service but are system files that are crucially important. I didn't know about some of these, and after learning about them, there is 
		a lot that can be set inside these files. Certain things that could affect serious security properties of the computer. These files include, /etc/sysctl.conf and /etc/login.defs.
		The sysctl.conf file deals with parameters associated with the kernel parameters on bootup and can be changed with sysctl instead of recompiling the kernel. The login.defs 
		provides default configuration information info about account parameters. This includes the useradd, usermod, etc... commands. These files have certain settings that I really didn't 
		know exsists until I went over an answer key but you should know and adapt these into a plan for compeition. 
	</p>
	<ul>
		<li>/etc/login.defs</li>
		<p>Sysctl.conf is a file dealing with account parameters and only a few lines apply (at least what I know). Two lines deal with passwords, they are the PASS_MAX_DAYS and the PASS_MIN_DAYS.
			These will look familiar if you have worked on windows since they essentially have the same setting in the Local Security Policy. You can set these the same numbers in the windows but I 
			haven't found any mention of changing the PASS_WARN_DAYS, so change at your own risk. 
		</p>
		<p>The other few parameters that I found to change is the ENCRYPT_METHOD which I believe is the encryption method used by the system. Usually I found this file to be set to SHA512. 
			The last line I found to change is the LOGIN_RETRIES which you can set how you would in windows.
		</p>
		<li>/etc/sysctl.conf</li>
		<p>There are a lot more parameters to deal with in the sysctl file. Most of these deal with ipv4 settings. I found this odd, but this whole file has quite a few settings that have an impact.
			Since there is so many of them I'll only mention a few but check the v1_Linux_Gameplan to see all of them. The rp_filter and accept_redirects are supposed to control two things respectively.
			1. Is to verify the source address, and 2. To ignore ICMP redirects. Verifying the source address is a great feature since you can actively make sure that you aren't receiving impersenation
			from the device you are getting or sending data to. It's a commmon tactic for hackers to spoof a device to be another one to send malicious things to devices. Ignoring ICMP redirects are also 
			important because there is even a comment above this setting being 'we are not a router'. It's as simple as that, ICMP redirects are something to do with routers so since we aren't a router
			we should make sure it's turned on to ignore them. 
		</p>
	</ul>

	<h4 id="ECU">Entering a Compeition with Ubuntu</h4>
	<p>Going into a competition with ubuntu can be a daunting task. As the Rounds go by the harder the challenges will be. What you need to do is follow a plan.
		There are multiple different sheets that the Cybertitans have and even one that you can get from this site, but you need a plan. Most likely that something
		is going to come up and that will through you right off the rails. Still, you need a plan. Lets take the example from a practice image called Aperture Science.
		In the image it looks fairly calm nothing is happening other than a startup sound. You can follow along by reading the files on the desktop and cracking down on
		certain things to do on the machine. However after 5 minutes or so and timebomb starts in the bottom right saying that the machine will shutdown in 60 seconds. 
		This threw me for a ride because not only do you lose the progress with whatever you were doing since you are on a time limit, but also you now have to find 
		that timebomb unless you want to keep getting shutdown.</p>
		<p>Those are the things that you are going to have to expect because the creators of these images will 
		throw everything they can think of at us. Another really frustrating thing about some images is the fact that the apt service is disabled. And these certain
		obstacles span from many different areas of the system. Make sure to have a plan and be able to adapt to either fix or delete something you weren't expecting to.
		The other part of a ubuntu image is gathering information. Information is quite helpful in all situations you will find yourself in. Making sure that you know
		that certain security policies shouldn't be put in place for one reason or another is what you need to find out. The README is of course a great place to start 
		but searching the system and scrolling through critical system files may also prove helpful incase something catches your eye. The main part of these competitions 
		is to find and solve security issues, which is what you have to remember going into a competition. You won't have all the answers and you may never know, the 
		best thing you can do is gather as much as you can and leave everything on the table when you are finished a competition. Ubuntu compeititors are very crucial and 
		play a special role on the team, take the time to learn and understand at your own rate to compete at the best as you can.
	</p>
	<h4 id="MU">More Ubuntu</h4>
	<p>Competiting with Ubuntu only gets easier if you know exactly how to use the interface. If you want to know more about Ubuntu,
		use Ubuntu. If you install Ubuntu on a laptop or a device of yours, it will help you get used to the interface and skip most 
		of the simple commands and skip to the more advanced part of Ubuntu. Here are some sites that you can use to learn more about the operating system.
	</p>
	<ul>
		<li><a href="https://ubuntu.com/">Ubuntu.com</a></li>
		<li><a href="https://ubuntu.com/community">Ubuntu Community</a></li>
		<li><a href="https://askubuntu.com/">Ask Ubuntu</a></li>
	</ul>
	<hr>
	<br>
	<br>
	<div id="footer">
		<p>This website is created by pi-adv, provided by <a href="https://github.com/pi-adv/pi-adv.github.io" target="_blank">Github.</a> Page updated July 20th, 2024</p>
	</div>
</body>
</html>
